:root{--primary-color: #4a90d9;--secondary-color: #f5a623;--danger-color: #d9534f;--success-color: #5cb85c;--dark-bg: #1a1a2e;--light-text: #ffffff}*{margin:0;padding:0;box-sizing:border-box}html,body,#root{width:100%;height:100%;min-height:100vh;min-height:-webkit-fill-available;overflow:hidden;font-family:Segoe UI,Hiragino Sans,Yu Gothic,sans-serif;background:linear-gradient(135deg,#1a1a2e,#16213e);position:fixed;top:0;left:0}.game-container{width:100%;height:100%;min-height:100vh;min-height:-webkit-fill-available;position:relative;overflow:hidden;touch-action:none}.hud{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:100}.hud>*{pointer-events:auto}.health-bar{position:absolute;top:20px;left:20px;width:200px;height:24px;background:#0009;border-radius:12px;border:2px solid #fff;overflow:hidden}.health-bar-fill{height:100%;background:linear-gradient(90deg,#f44,#f84);transition:width .3s ease}.monkey-counter{position:absolute;top:20px;right:20px;background:#000000b3;padding:10px 20px;border-radius:10px;color:#fff;font-size:18px;display:flex;align-items:center;gap:10px}.monkey-icon{font-size:24px}.timer{position:absolute;top:60px;right:20px;background:#000000b3;padding:8px 16px;border-radius:8px;color:#fff;font-size:16px;font-family:Courier New,monospace}.tool-bar{position:absolute;bottom:20px;left:50%;transform:translate(-50%);display:flex;gap:10px;background:#000000b3;padding:10px 20px;border-radius:15px;z-index:200}@media (max-width: 768px),(pointer: coarse){.tool-bar{bottom:200px;padding:12px 15px;gap:8px}}.tool-item{width:60px;height:60px;background:#ffffff1a;border:2px solid rgba(255,255,255,.3);border-radius:10px;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;color:#fff;touch-action:none;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}@media (max-width: 768px),(pointer: coarse){.tool-item{width:55px;height:55px}}.tool-item:hover{background:#fff3;transform:scale(1.05)}.tool-item:active{background:#ffffff4d;transform:scale(.95)}.tool-item.active{border-color:var(--secondary-color);background:#f5a6234d;box-shadow:0 0 15px #f5a62380}.tool-icon{font-size:24px}@media (max-width: 768px),(pointer: coarse){.tool-icon{font-size:28px}}.tool-key{font-size:10px;margin-top:4px;opacity:.7}@media (max-width: 768px),(pointer: coarse){.tool-key{display:none}}.minimap{position:absolute;bottom:20px;left:20px;width:150px;height:150px;background:#000000b3;border-radius:50%;border:3px solid rgba(255,255,255,.5);overflow:hidden;z-index:150}@media (max-width: 768px),(pointer: coarse){.minimap{width:100px;height:100px;bottom:200px;left:20px;border-width:2px}}.minimap-inner{width:100%;height:100%;position:relative}.minimap-player{position:absolute;width:10px;height:10px;background:var(--primary-color);border-radius:50%;top:50%;left:50%;transform:translate(-50%,-50%);box-shadow:0 0 5px var(--primary-color)}.minimap-monkey{position:absolute;width:6px;height:6px;background:var(--secondary-color);border-radius:50%}.menu-overlay{position:absolute;top:0;left:0;width:100%;height:100%;background:#000000d9;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:200}.game-title{font-size:64px;font-weight:700;color:var(--secondary-color);text-shadow:3px 3px 0 #000,-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000;margin-bottom:40px;animation:titleBounce 2s ease-in-out infinite}@keyframes titleBounce{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}.menu-button{padding:15px 50px;font-size:20px;font-weight:700;color:#fff;background:linear-gradient(135deg,var(--primary-color) 0%,#357abd 100%);border:none;border-radius:30px;cursor:pointer;margin:10px;transition:all .3s ease;text-transform:uppercase;letter-spacing:2px}.menu-button:hover{transform:scale(1.1);box-shadow:0 0 20px #4a90d999}.menu-button.secondary{background:linear-gradient(135deg,#666,#444)}.stage-select{display:grid;grid-template-columns:repeat(3,1fr);gap:20px;max-width:800px;padding:20px}.stage-card{background:#ffffff1a;border-radius:15px;padding:20px;text-align:center;cursor:pointer;transition:all .3s ease;border:2px solid transparent}.stage-card:hover{background:#fff3;border-color:var(--secondary-color);transform:translateY(-5px)}.stage-card.locked{opacity:.5;cursor:not-allowed}.stage-number{font-size:36px;color:var(--secondary-color);font-weight:700}.stage-name{font-size:16px;color:#fff;margin-top:10px}.stage-status{font-size:12px;color:var(--success-color);margin-top:5px}.result-overlay{position:absolute;top:0;left:0;width:100%;height:100%;background:#000000e6;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:300}.result-title{font-size:48px;color:var(--success-color);margin-bottom:30px}.result-rank{font-size:120px;font-weight:700;margin:20px}.rank-s{color:gold;text-shadow:0 0 30px #ffd700}.rank-a{color:silver}.rank-b{color:#cd7f32}.rank-c{color:#888}.result-stats{font-size:20px;color:#fff;margin:10px}.pause-overlay{position:absolute;top:0;left:0;width:100%;height:100%;background:#000c;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:250}.pause-title{font-size:48px;color:#fff;margin-bottom:40px}.loading-screen{position:absolute;top:0;left:0;width:100%;height:100%;background:var(--dark-bg);display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:400}.loading-spinner{width:60px;height:60px;border:4px solid rgba(255,255,255,.3);border-top-color:var(--secondary-color);border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}.loading-text{color:#fff;font-size:20px;margin-top:20px}.touch-controls{position:absolute;bottom:30px;left:30px;display:none;z-index:500}@media (max-width: 768px),(pointer: coarse){.touch-controls{display:block}}.virtual-joystick{width:150px;height:150px;background:#ffffff26;border-radius:50%;border:3px solid rgba(255,255,255,.4);position:relative;touch-action:none;box-shadow:0 4px 12px #0000004d}.joystick-knob{width:60px;height:60px;background:radial-gradient(circle,#ffffffe6,#fff9);border-radius:50%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transition:all .1s ease;box-shadow:0 2px 8px #0006;border:2px solid rgba(255,255,255,.8);pointer-events:none}.action-buttons{position:absolute;bottom:30px;right:30px;display:none;flex-direction:column;gap:15px;z-index:500}@media (max-width: 768px),(pointer: coarse){.action-buttons{display:flex}.tool-bar{bottom:120px;left:50%;transform:translate(-50%)}}.action-btn{width:75px;height:75px;background:#4a90e2cc;border:3px solid rgba(255,255,255,.6);border-radius:50%;color:#fff;font-size:32px;cursor:pointer;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 12px #0006;transition:all .1s ease;touch-action:none;-webkit-user-select:none;user-select:none}.action-btn:active{background:#4a90e2;transform:scale(.95);box-shadow:0 2px 6px #0006}.action-btn.jump{background:#5cb85ccc}.action-btn.jump:active{background:#5cb85c}.instructions{background:#000c;padding:30px;border-radius:15px;max-width:600px;color:#fff}.instructions h2{font-size:24px;margin-bottom:20px;color:var(--secondary-color)}.instructions-grid{display:grid;grid-template-columns:1fr 1fr;gap:15px}.instruction-item{display:flex;align-items:center;gap:10px}.key{background:#fff3;padding:5px 10px;border-radius:5px;font-family:monospace}.crosshair{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:20px;height:20px;pointer-events:none}.crosshair:before,.crosshair:after{content:"";position:absolute;background:#fffc}.crosshair:before{width:2px;height:100%;left:50%;transform:translate(-50%)}.crosshair:after{width:100%;height:2px;top:50%;transform:translateY(-50%)}.boss-health{position:absolute;top:80px;left:50%;transform:translate(-50%);width:400px;text-align:center}.boss-name{color:#f44;font-size:20px;font-weight:700;margin-bottom:5px;text-shadow:2px 2px 4px rgba(0,0,0,.8)}.boss-health-bar{width:100%;height:20px;background:#0009;border-radius:10px;border:2px solid #ff4444;overflow:hidden}.boss-health-fill{height:100%;background:linear-gradient(90deg,red,#f60);transition:width .3s ease}.damage-flash{position:absolute;top:0;left:0;width:100%;height:100%;background:#ff00004d;pointer-events:none;animation:damageFlash .2s ease-out}@keyframes damageFlash{0%{opacity:1}to{opacity:0}}.notification{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background:#000c;padding:20px 40px;border-radius:10px;color:#fff;font-size:24px;animation:notificationPop .5s ease;pointer-events:none}@keyframes notificationPop{0%{transform:translate(-50%,-50%) scale(0)}50%{transform:translate(-50%,-50%) scale(1.2)}to{transform:translate(-50%,-50%) scale(1)}}.tutorial-overlay{position:absolute;top:0;left:0;width:100%;height:100%;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:350}.tutorial-box{background:#1e1e32f2;padding:40px;border-radius:20px;max-width:500px;text-align:center;border:2px solid var(--secondary-color)}.tutorial-box h3{color:var(--secondary-color);font-size:28px;margin-bottom:20px}.tutorial-box p{color:#fff;font-size:16px;line-height:1.6;margin-bottom:20px}
